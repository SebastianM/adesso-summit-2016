<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Progressive Web Apps mit Angular 2 | SummIT 2016</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<link rel="stylesheet" href="css/custom.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-background-image="media/slide-bg.png">
					<img src="media/angular.png" alt="Angular" style="border:0; background: 0; box-shadow: none">
					<h1><span style="font-size:.93em">PROGRESSIVE WEB APPS</span> <br />MIT ANGULAR 2</h1>
					<h3>Sebastian M√ºller - @Sebamueller</h3>
					<h4>adesso SummIT 2016</h4>
				</section>
				
				<section>
					<img src="media/gif-what.gif" alt="What?" style="width: 400px">
					<h2>Was sind Progressive Web Apps?</h2>
				</section>
				<section>
					<h1>Buzzword!</h1>
					<img src="media/ape.gif" alt="" style="width: 550px;">
				</section>
				<section>
					<h1>UX<br /> User experience</h1>
				</section>
				<section>
					<h2><span style="color: yellow">P</span>rogressive Enhancement<br /><span style="color: yellow">W</span>eb<br /><span style="color: yellow">A</span>pp Like
				</section>
				<section>
					<h1>Darunter f√§llt</h1>
					<ul>
						<li>Offline-f√§higkeit (News auch offline lesen)</li>
						<li>Push Notifications</li>
						<li>"App-Feeling" (App Icon, Fullscreen Modus)</li>
						<li>Performance</li>
						<li>HTTPS / HTTP2</li>
						<li>Browser- und Hardware-APIs nutzen</li>
					</ul>
				</section>
				<section>
					<h1>PWA Video</h1>
					<h2>Google Developers</h2>
				</section>
				<section data-background-video="media/pwa-google.mp4">
				</section>
				<section></section>
				<section>
					<h1>Mobile Websites sind h√§ufig<br /> üí©üí©üí©üí©üí©</h1>
				</section>
				<section>
					<h1>Spiegel Online Web App</h1>
					<img src="media/spon-web.PNG" alt="" style="height: 400px">
				</section>
				<section>
					<h1>Spiegel Online...Offline</h1>
					<img src="media/spon-web-offline.PNG" alt=""  style="height: 400px">
				</section>
				<section>
					<h1>Assets</h1>
					<img src="media/spon-assets.png" alt="">
				</section>
				<section>
					<h2>Cookie Hell <br />(1kb Cookies/Request)</h2>
					<img src="media/spon-cookies.png" alt="">
				</section>
				<section>
					<h2>SPON iPhone App</h2>
					<img src="media/spon-app.PNG" alt=""  style="height: 400px">
				</section>
				<section>
					<h2>SPON iPhone App - Offline</h2>
					<img src="media/spon-app-offline.PNG" alt=""  style="height: 400px">
				</section>
				<section>
					<h2>SPON iPhone App - 16,6 MB</h2>
					<img src="media/spon-mb.PNG" alt=""  style="height: 400px">
				</section>
				<section>
					<h2>LinkedIn iPhone App - 138MB !!!</h2>
					<img src="media/linkedin-mb.PNG" alt="" style="max-height: 450px">
				</section>
				<section>
					<img src="media/panda.gif" alt="" style="width:600px">
				</section>
				<section data-background-color="#0d4b74">
					<h1>Das geht besser...</h1>
				</section>

				<section data-background-image="media/slide-bg.png">
					<h1>Progressive Web App mit Angular 2</h1>
				</section>

				<section>
					<h1 style="margin-top: 0;margin-bottom:0;padding-top:0;padding-bottom:0">PWA DEMO</h1>
					<h3 class="blink_text" style='font-family:"Comic Sans","Comic Sans MS","Chalkboard","ChalkboardSE-Regular","Marker Felt","Purisa","URW Chancery L",cursive,sans-serif; color: yellow;margin-top: 0;margin-bottom:0;padding-top:0;padding-bottom:0'>Jetzt aufrufen!</h3>
					<div class="blink_text" style='font-family:"Comic Sans","Comic Sans MS","Chalkboard","ChalkboardSE-Regular","Marker Felt","Purisa","URW Chancery L",cursive,sans-serif; color: yellow;margin-top: 0;margin-bottom:0;padding-top:0;padding-bottom:0'>Lautsprecher an!</div>
					<p><img src="media/drudgesiren.gif" alt="" style="border:0;background:0; height: 70px;margin:0;margin-bottom: -15px;box-shadow:none;"> http://bit.ly/summit-pwa <img src="media/drudgesiren.gif" style="border:0;background:0; height: 70px;margin:0;margin-bottom: -15px;box-shadow:none;" alt=""></p>
					<img src="media/qr-pwa.jpg" alt="" class="stretch">
				</section>

				<section>
					<img src="media/pwa-demo-screenshot.png" alt="">
				</section>
				<section data-background-image="media/slide-bg.png">
					<h3>Wer ist online? - Aktuell <span class="users-online">0</span></h3>
					<p>http://bit.ly/summit-pwa</p>
					<div id="users-online-list"></div>
				</section>

				<section  data-background-image="media/slide-bg.png">
					<h1>Offline-f√§higkeit</h1>
				</section>

				<section  data-background-image="media/slide-bg.png">
					<h1>Service Worker</h1>
				</section>

				<section>
					<h1>Service Worker</h1>
					<ul>
						<li>JS basierter "Proxy f√ºr Websites"</li>
						<li>L√§uft in einem separaten Thread</li>
						<li>L√§uft auch, wenn die Seite oder der Browser gerade nicht ge√∂ffnet ist*</li>
						<li>
							Weitere Features:
							<ul>
								<li>Gezieltes Caching via JS Logik</li>
								<li>Push Notifications</li>
								<li>Synchronisierung*</li>
							</ul>
						</li>
						<li>HTTPS zwingend notwendig</li>
					</ul>
				</section>

				<section  data-background-image="media/slide-bg.png">
					<h1>Service Worker Support</h1>
					<h2 class="support-counter" data-feature="serviceWorker"></h2>
				</section>

				<section>
					<h3>Service Worker installieren</h3>
					<pre>
						<code data-trim data-noescape>
// app.js
if ('serviceWorker' in navigator) {
	navigator.serviceWorker.register('/sw.js').then(reg => {
		// Registration was successful
		console.log('ServiceWorker success');
	}).catch(function(err) {
		// registration failed :(
		console.log('failed: ', err);
	});
}
						</code>
					</pre>
				</section>

				<section>
					<h3>Service Worker - Caching</h3>
					<pre>
						<code data-trim data-noescape>
// sw.js
var CACHE_NAME = 'my-site-cache-v1';
var urlsToCache = [
  '/',
  '/styles/main.css',
];

self.addEventListener('install', function(event) {
  // Perform install steps
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then(function(cache) {
        console.log('Opened cache');
        return cache.addAll(urlsToCache);
      })
  );
});</code>
					</pre>
				</section>

				<section>
					<h3>Service Worker - fetch</h3>
					<pre>
						<code data-trim data-noescape>
					self.addEventListener('fetch', function(event) {
  event.respondWith(
    caches.match(event.request)
      .then(function(response) {
        // Cache hit - return response
        if (response) {
          return response;
        }
        return fetch(event.request);
      }
    )
  );
});</code></pre>
				</section>

				<section>
					<h1>Service Worker<br />=<br />Low Level API</h1>
				</section>

				<section>
					<h3>Service Worker Precache <br />(sw-precache)</h3>
					<small></small>
					<ul>
						<li>CLI Tool</li>
						<li>Generiert Service Worker f√ºr Offline-Support</li>
						<li>Cached alle Assets</li>
						<li>Kombinierbar mit Gulp und Webpack</li>
						<li>Erstellt MD5 hashes f√ºr Files</li>
					</ul>

					<pre><code data-trim data-noescape>
sw-precache --root=dist --static-file-globs='dist/**/*'
</code></pre>
				</section>

				<!-- <section>
					<h3>Service Worker Toolbox<br />(sw-toolbox)</h3>
					<ul>
						<li>Library f√ºr Service Worker</li>
						<li>High Level API</li>
						<li>Runtime Caching Support</li>
						
					</ul>
					<pre><code data-trim data-noescape>
// router
toolbox.router.get(':foo/index.html', function(request, values) {
  return new Response('Handled a request for ' + request.url +
      ', where foo is "' + values.foo + '"');
});

// precaching
toolbox.precache(['/index.html', '/site.css', '/images/logo.png']);
</code></pre>
				</section> -->
			

				<section  data-background-image="media/slide-bg.png">
					<h1>Web App Manifest</h1>
				</section>

				<section>
					<h3>Web App Manifest</h3>
					<pre><code data-trim data-noescape>
{
  "name": "SummIT PWA",
  "short_name": "SummIT",
  "start_url": "/",
  "display": "standalone",
  "description": "PWA Demo App f√ºr den SummIT 2016",
  "background_color": "#673ab7",
  "theme_color": "#673ab7",
  "lang": "de",
  "icons": [
    {
      "src": "assets/appicons/icon-messages-app-27x20@1x.png",
      "sizes": "27x20",
      "type": "image/png"
    },
    {
      "src": "assets/appicons/144x144@2x.png",
      "sizes": "144x144",
      "type": "image/png"
    },
    {
      "src": "assets/appicons/icon-messages-app-iPadAir-74x55@2x.png",
      "sizes": "74x55",
      "type": "image/png"
    },
    {
      "src": "assets/appicons/icon-messages-app-store-1024x768.png",
      "sizes": "1024x768",
      "type": "image/png"
    }
  ]
}	
					</code></pre>
				</section>

				<section>
					<pre><code data-trim data-noescape>
&lt;link rel="manifest" href="assets/webmanifest.json"&gt;</code></pre>
				</section>

				<section>
					<img src="media/web-app-chrome.png" alt="">
				</section>

				<section>
					<video src="media/add-to-homescreen.webm" data-autoplay muted></video>
				</section>

				<section data-background-image="media/slide-bg.png">
					<h1>Browser API</h1>
				</section>

				<section>
					<h3>DeviceOrientation API</h3>
					<ul>
						<li>Besonders n√ºtzlich f√ºr
							<ul>
								<li>Spiele</li>
								<li>Parallax Effekte</li>
							</ul>
						</li>

						<li>Keine gesonderten Berechtigungen notwending</li>
					</ul>
					<pre><code data-trim data-noescape>
								window.addEventListener('deviceorientation', (event) => {
	console.log(event.alpha);
	console.log(event.beta);
	console.log(event.gamma);
});</code></pre>
				</section>

				<section  data-background-image="media/slide-bg.png">
					<h1>DeviceOrientation API Support</h1>
					<h2 class="support-counter" data-feature="deviceOrientation"></h2>
				</section>

				<section id="slide-deviceorientation">
					<h3>DeviceOrientation Demo</h3>
					<div id="device-orientation-entries">
					</div>
				</section>

				<section>
					<h2>Speech Synthesis API</h2>
					<ul>
						<li>Text-to-Speech</li>
						<li>Viele Sprachen unterst√ºzt</li>
						<li>Internetverbindung notwendig</li>
					</ul>
				</section>

				<section  data-background-image="media/slide-bg.png">
					<h2>Speech Synthesis API Support</h2>
					<h2 class="support-counter" data-feature="speechSynthesis"></h2>
				</section>

				<section id="slide-speech">
					<h2>Speech Synthesis DEMO</h2>
					
					Text: <input type="text" value="Das ist ein Test." id="speech-text"><br />
					Pitch: <input type="number" value="1" id="speech-pitch"><br />
					Rate: <input type="number" value="1" id="speech-rate"><br />
					<button id="start-speak" type="button">Senden</button>
				</section>


				<section>
					<h2>WebAudio API</h2>
					<ul>
						<li>Arbeiten mit Audio-Quellen (auch MIDI)</li>
						<li>Audio-Quellen mit Effekten versehen</li>
						<li>Synthesizer im Browser</li>
					</ul>
				</section>

				<section  data-background-image="media/slide-bg.png">
					<h2>WebAudio API Support</h2>
					<h2 class="support-counter" data-feature="webAudio"></h2>
				</section>

				<section>
					<h2>WebAudio API Demo</h2>
					<button type="button" id="start-web-audio">Start WebAudio</button>
				</section>

				<!-- ---------------------------------------------------------------------------------------- -->

				<section  data-background-image="media/slide-bg.png">
					<h1>Angular 2 Tipps</h1>
				</section>

				<section>
					<h2>Routing</h2>
					<p>Bad pratice</p>
					<pre><code data-trim>
@NgModule({
  declarations: [
    AppComponent,
    UsersListComponent,
    InvoicesListComponent,
    ...
  ],
  imports: [
    BrowserModule,
    RouterModule.forRoot([
      {path: '', component: HomepageComponent},
      {path: '/users', component: UsersListComponent},
      {path: '/invoices', component: InvoicesListComponent},
    ])
  ]
  bootstrap: [AppComponent]
})
export class AppModule { }
						</code></pre>
				</section>

				<section>
					<h2>Routing - Lazy Loading</h2>
					<p>loadChildren / Module verwenden</p>
					<pre><code data-trim>
@NgModule({
  declarations: [
    AppComponent, // nur das deklarieren, was initial ben√∂tigt wird
    HomepageComponent
  ],
  imports: [
    BrowserModule,
    RouterModule.forRoot([
      {path: '', component: HomepageComponent},
      {path: '/users', loadChildren: './users/users.module#UsersModule'},
      {path: '/invoices', loadChildren: './users/invoices.module#InvoicesModule'},
    ])
  ]
  bootstrap: [AppComponent]
})
export class AppModule { }
						</code></pre>
				</section>

				<section>
					<h2>Router Idle Preload</h2>
					<p>https://github.com/AngularClass/angular2-idle-preload</p>
					<img src="media/angular2-idle-preload.jpeg" alt="">
				</section>

				<section>
					<h2>Angular CLI nutzen</h2>
					<ul>
						<li>
							Scaffolding und Buildsystem f√ºr Angular 2 Projekte
						</li>
						<li>Effizientes Bundling der Applikation</li>
						<li>AOT Template Compiler Support
							<ul>
								<li>= schnellere Rendering Time</li>
							</ul>
						</li>
						<li>https://cli.angular.io/</li>
					</ul>
				</section>

				<section>
					<h2>Angular Universal</h2>
					<p>https://universal.angular.io/</p>
					<ul>
						<li>Server-Side Rendering</li>
						<li>F√ºhrt die App auf dem Server aus</li>
						<li>Liefert generiertes HTML an den Browser</li>
						<li>Support f√ºr Node.JS und ASP.NET (bald auch Java)</li>
					</ul>
					<img src="media/angular-universal.png" alt="">
				</section>

				<!-- ---------------------------------------------------------------------------------------- -->

				<section data-background-image="media/slide-bg.png">
					<h1>Performance Tipps</h1>
				</section>

				<section>
					<video src="media/load-time-3g.mov" class="stretch" data-autoplay></video>
				</section>

				<section>
					<h4>Lighthouse</h4>
					<p><small>https://github.com/GoogleChrome/lighthouse</small></p>
					<ul>
						<li>Analyse-Tool f√ºr Progressive Web Apps</li>
						<li>Wird entwickelt vom Google Chrome Team</li>
						<li>Chrome Extension &amp; CLI</li>
						<li>Der neue HTML Validator&#8482;</li>
					</ul>
				</section>

				<section>
					<img src="media/lighthouse.png" alt="">
				</section>

				<section>
					<h3>HTTP/2 & GZip nutzen</h3>
					<video src="media/http2.mov" class="stretch" data-autoplay></video>
				</section>

				<section>
					<h1>~250 kb</h1>
				</section>

				<!-- ---------------------------------------------- -->

				<section data-background-image="media/slide-bg.png">
					<h1>Last Feature...</h1>
				</section>

				<section>
					<h2>Vote Button</h2>
					<img src="media/vote-button.png" alt="" id="toggle-vote-button">
				</section>

				
				<section data-background-image="media/slide-bg.png">
					<h3>Vielen Dank!</h3>
					<img src="media/vote-qr.png" alt="" height="380">

					<p>Slides/Code: http://bit.ly/pwa-folien</p>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				transition: 'none',
				controls: false,
				progress: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'node_modules/deepstream.io-client-js/dist/deepstream.js' },
					{ src: 'js/smoothie.js' },
					{ src: 'js/app.js', async: true }
				]
			});
		</script>
	</body>
</html>
